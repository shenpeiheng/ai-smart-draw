# AI æ™ºèƒ½ç»˜å›¾

[English](README_en.md) | ä¸­æ–‡

ä¸€ä¸ªåŸºäº Next.js æ„å»ºçš„æ™ºèƒ½ç»˜å›¾åº”ç”¨ç¨‹åºï¼Œåˆ©ç”¨ AI çš„å¼ºå¤§åŠŸèƒ½åˆ›å»ºå’Œæ“ä½œå„ç§ç±»å‹çš„å›¾è¡¨ï¼ŒåŒ…æ‹¬ Draw.io (diagrams.net)ã€Mermaidã€PlantUMLã€Excalidrawï¼Œä»¥åŠé€šè¿‡è‡ªç„¶è¯­è¨€å‘½ä»¤æ”¯æŒ 20 å¤šç§å…¶ä»–å›¾è¡¨æ ¼å¼ã€‚

ğŸ”— **åœ¨çº¿æ¼”ç¤º**:
- https://ai-smart-draw.vercel.app/

![de5e647f-a83a-4b28-bd56-b449f587e472.png](public/de5e647f-a83a-4b28-bd56-b449f587e472.png)
![01669c29-60a7-4777-af14-0982d6c6daa8.png](public/01669c29-60a7-4777-af14-0982d6c6daa8.png)
![409fd263-800f-4183-8df9-71691307633c.png](public/409fd263-800f-4183-8df9-71691307633c.png)
![6dd5b5c1-1e25-4d33-a45f-d10eb0fbb804.png](public/6dd5b5c1-1e25-4d33-a45f-d10eb0fbb804.png)
![7736141c-e820-450d-8260-5f5b0c846388.png](public/7736141c-e820-450d-8260-5f5b0c846388.png)
![e59f7980-ac2f-4c57-b9a7-8b7c75feed58.png](public/e59f7980-ac2f-4c57-b9a7-8b7c75feed58.png)

## ğŸŒŸ ä¸»è¦åŠŸèƒ½

- **AI é©±åŠ¨çš„å›¾è¡¨åˆ›å»º**: å°†è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸ºä¸“ä¸šå›¾è¡¨
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒ Draw.io XMLã€Mermaidã€PlantUMLã€Excalidrawï¼Œä»¥åŠé€šè¿‡ Kroki æ”¯æŒ 20 å¤šç§å…¶ä»–æ ¼å¼
- **æ™ºèƒ½ç¼–è¾‘**: é€šè¿‡å¯¹è¯å¼ AI æç¤ºä¿®æ”¹ç°æœ‰å›¾è¡¨
- **å®æ—¶é¢„è§ˆ**: åœ¨ä¸ AI äº¤äº’æ—¶æŸ¥çœ‹æ›´æ”¹
- **ç‰ˆæœ¬å†å²**: è·Ÿè¸ªå’Œæ¢å¤å›¾è¡¨çš„å…ˆå‰ç‰ˆæœ¬
- **å¯æŠ˜å èŠå¤©é¢æ¿**: å±•å¼€æˆ–æŠ˜å èŠå¤©ç•Œé¢ä»¥æœ€å¤§åŒ–å·¥ä½œåŒº
- **çµæ´»æ¸²æŸ“**: å…·æœ‰å›é€€æœºåˆ¶çš„å¤šç§æ¸²æŸ“é€‰é¡¹
- **æ¨¡å‹é…ç½®**: ç›´æ¥ä»æµè§ˆå™¨è‡ªå®šä¹‰ AI æ¨¡å‹

## ğŸ¯ æ”¯æŒçš„å›¾è¡¨ç±»å‹

### Draw.io (diagrams.net)
ä½¿ç”¨ AI é©±åŠ¨çš„ XML ç”Ÿæˆå’Œä¿®æ”¹åŠŸèƒ½åˆ›å»ºå’Œç¼–è¾‘ä¸“ä¸šæµç¨‹å›¾ã€è¿‡ç¨‹å›¾å’Œå¤æ‚å¯è§†åŒ–å›¾è¡¨ã€‚

### Mermaid
åœ¨ä¸“ç”¨å·¥ä½œåŒºä¸­ç”Ÿæˆæµç¨‹å›¾ã€åºåˆ—å›¾ã€ç”˜ç‰¹å›¾ç­‰ï¼Œå¹¶æä¾›å®æ—¶ SVG é¢„è§ˆã€‚

### PlantUML
å†…ç½®æ¸²æŸ“ä»£ç†ï¼Œæ”¯æŒ plantuml.comã€kroki.io æˆ–è‡ªå®šä¹‰ç«¯ç‚¹åˆ›å»º UML å›¾è¡¨ã€‚

### Excalidraw
ç»“åˆ AI è¾…åŠ©çš„å¾’æ‰‹é£æ ¼ç»˜å›¾ï¼Œç”¨äºæœ‰æœºå›¾è¡¨åˆ›å»ºã€‚

### Graphviz
ä½¿ç”¨ DOT è¯­è¨€è¯­æ³•åˆ›å»ºå›¾å½¢å›¾è¡¨ã€‚Graphviz é€šè¿‡ kroki.io æœåŠ¡æä¾›æ”¯æŒï¼Œè¯¥æœåŠ¡æä¾›å¼ºå¤§çš„å›¾å½¢å¯è§†åŒ–åŠŸèƒ½ã€‚

### Kroki (20 å¤šç§æ ¼å¼)
ä½¿ç”¨ kroki.io æœåŠ¡åœ¨å„ç§æ ¼å¼ä¸­ç”Ÿæˆå›¾è¡¨ï¼Œé€šè¿‡å•ä¸€ç•Œé¢æ”¯æŒï¼š

- **PlantUML**: UML å›¾è¡¨ã€æ´»åŠ¨å›¾ã€åºåˆ—å›¾ç­‰
- **Mermaid**: æµç¨‹å›¾ã€åºåˆ—å›¾ã€ç”˜ç‰¹å›¾ç­‰
- **BPMN**: ä¸šåŠ¡æµç¨‹å»ºæ¨¡ç¬¦å·ï¼Œç”¨äºå·¥ä½œæµå›¾
- **Graphviz**: å›¾å½¢å¯è§†åŒ–å’Œç½‘ç»œå›¾
- **BlockDiag**: æ–¹æ¡†å›¾
- **C4-PlantUML**: è½¯ä»¶æ¶æ„å›¾
- **Ditaa**: ASCII è‰ºæœ¯åˆ°å›¾åƒè½¬æ¢
- **Erd**: å®ä½“å…³ç³»å›¾
- **Vega/Vega-Lite**: æ•°æ®å¯è§†åŒ–
- **ä»¥åŠå…¶ä»– 15 å¤šç§æ ¼å¼**

## ğŸ›  å·¥ä½œåŸç†

AI æ™ºèƒ½ç»˜å›¾åˆ©ç”¨ç°ä»£ Web æŠ€æœ¯åœ¨è‡ªç„¶è¯­è¨€å’Œå›¾è¡¨è¡¨ç¤ºä¹‹é—´æ¶èµ·æ¡¥æ¢ï¼š

- **Next.js åº”ç”¨è·¯ç”±å™¨**: å…·æœ‰æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„å¿«é€Ÿã€ç°ä»£ React æ¡†æ¶
- **AI SDK é›†æˆ**: ä¸ OpenAI å…¼å®¹ API çš„æ— ç¼é€šä¿¡
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥æç¤º**: ä¸ºæ¯ç§å›¾è¡¨ç±»å‹è®¾è®¡çš„æ™ºèƒ½æç¤ºå·¥ç¨‹
- **å®æ—¶æµå¼ä¼ è¾“**: å…·æœ‰æµå¼å“åº”çš„å³æ—¶åé¦ˆ
- **æ ¼å¼ç‰¹å®šå·¥å…·**: ä¸ºæ¯ç§å›¾è¡¨æ ¼å¼è®¾è®¡çš„ä¸“ç”¨å·¥å…·ï¼ˆ[display_mermaid]ã€[display_plantuml] ç­‰ï¼‰

åº”ç”¨ç¨‹åºå°†æ‚¨çš„è‡ªç„¶è¯­è¨€è¯·æ±‚è½¬æ¢ä¸ºç»“æ„åŒ–å›¾è¡¨ä»£ç ï¼Œç„¶åå®æ—¶æ¸²æŸ“ã€‚

## ğŸš€ å…¥é—¨æŒ‡å—

### å…ˆå†³æ¡ä»¶
- Node.js 18+
- npm æˆ– yarn

### å®‰è£…

1. å…‹éš†ä»“åº“ï¼š
```bash
git clone https://github.com/shenpeiheng/ai-smart-draw.git
cd ai-smart-draw
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
# æˆ–
yarn install
```

3. åœ¨æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ `env.example` ä½œä¸ºæ¨¡æ¿ï¼š
```bash
cp env.example .env.local
```

ç„¶åä½¿ç”¨æ‚¨çš„ OpenAI å‡­æ®æ›´æ–° `.env.local`ã€‚

### OpenAI é…ç½®

- `OPENAI_API_KEY` (å¿…éœ€): æ¥è‡ªæ‚¨ OpenAI è´¦æˆ·çš„å¯†é’¥
- `OPENAI_MODEL` (å¯é€‰): é»˜è®¤ä¸º `gpt-4o-mini`ï¼Œå¦‚æœæ‚¨å–œæ¬¢å…¶ä»–å·²å‘å¸ƒçš„å˜ä½“å¯ä»¥è¦†ç›–
- `OPENAI_BASE_URL` (å¯é€‰): é»˜è®¤ä¸º `https://api.openai.com/v1`ï¼›å¦‚æœæ‚¨è‡ªæ‰˜ç®¡ä»£ç†æˆ–ç½‘å…³ï¼Œè¯·è®¾ç½®æ­¤é¡¹

ç¤ºä¾‹ç‰‡æ®µï¼š
```bash
OPENAI_API_KEY="sk-your-key"
# OPENAI_MODEL="gpt-4o-mini"
# OPENAI_BASE_URL="https://api.openai.com/v1"
```

#### å¯é€‰ï¼šä»æµè§ˆå™¨é…ç½®

- ç‚¹å‡»ä»»ä½•å·¥ä½œåŒºæ ‡é¢˜ä¸­çš„ **æ¨¡å‹è®¾ç½®** æŒ‰é’®ï¼Œè¦†ç›–å½“å‰æµè§ˆå™¨çš„ API å¯†é’¥ã€åŸºç¡€ URL æˆ–æ¨¡å‹ã€‚å€¼å­˜å‚¨åœ¨ `localStorage` ä¸­ï¼Œä»…åœ¨æ‚¨æäº¤èŠå¤©è¯·æ±‚æ—¶å‘é€åˆ°æœåŠ¡å™¨
- ç•™ç©ºä»»ä½•å­—æ®µä»¥å›é€€åˆ°ä¸Šè¿°æœåŠ¡å™¨ç«¯ç¯å¢ƒå˜é‡
- ä½¿ç”¨ **æ‹‰å–åˆ—è¡¨** æŒ‰é’®è°ƒç”¨ `/api/models` åŠ©æ‰‹ï¼Œå°†å½“å‰å‡­æ®è½¬å‘åˆ° `GET /models` å¹¶åˆ—å‡ºå¯é€‰æ‹©çš„æ¨¡å‹ ID

4. è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

5. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ç¨‹åº
    - `/` -> Draw.io (XML å·¥ä½œæµã€å›¾è¡¨å†å²ã€æ–‡ä»¶ä¸Šä¼ )
    - `/mermaid` -> Mermaid (ç”±æ‚¨é…ç½®çš„ OpenAI å…¼å®¹æ¨¡å‹é©±åŠ¨çš„å®æ—¶é¢„è§ˆ + å®šä¹‰å¡)
    - `/plantuml` -> PlantUML (å…·æœ‰è¿œç¨‹é¢„è§ˆçš„åŸºäºæ–‡æœ¬çš„å›¾è¡¨)
    - `/excalidraw` -> Excalidraw (ç”±ç›¸åŒæ¨¡å‹é©±åŠ¨çš„è‡ªç”±å½¢å¼ç”»å¸ƒ)
    - `/kroki` -> Kroki (ç”± kroki.io é©±åŠ¨çš„å¤šæ ¼å¼å›¾è¡¨)
    - `/graphviz` -> Graphviz (ç”± kroki.io é©±åŠ¨çš„å›¾å½¢å¯è§†åŒ–å›¾è¡¨)

## ğŸŒ ç”¨æˆ·ç•Œé¢åŠŸèƒ½

### å¯æŠ˜å èŠå¤©é¢æ¿
- åˆ‡æ¢èŠå¤©é¢æ¿ä»¥æœ€å¤§åŒ–æ‚¨çš„å·¥ä½œåŒº
- æŠ˜å æ—¶ï¼Œæµ®åŠ¨æŒ‰é’®å¯å¿«é€Ÿè®¿é—®ä»¥æ¢å¤èŠå¤©é¢æ¿
- æµç•…çš„åŠ¨ç”»æä¾›æ— ç¼ç”¨æˆ·ä½“éªŒ

### å“åº”å¼è®¾è®¡
- é’ˆå¯¹æ¡Œé¢å’Œç¬”è®°æœ¬ç”µè„‘ä½¿ç”¨è¿›è¡Œäº†ä¼˜åŒ–
- ç§»åŠ¨å‹å¥½çš„ç•Œé¢å’Œé€‚å½“çš„æ¶ˆæ¯

### ç»Ÿä¸€å¯¼èˆª
- åœ¨ä¸åŒå›¾è¡¨ç±»å‹ä¹‹é—´è½»æ¾åˆ‡æ¢
- æ‰€æœ‰å›¾è¡¨å·¥ä½œåŒºçš„ä¸€è‡´ç•Œé¢

## ğŸš€ éƒ¨ç½²

éƒ¨ç½² Next.js åº”ç”¨çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ Next.js åˆ›å»ºè€…æä¾›çš„ [Vercel å¹³å°](https://vercel.com/new)ã€‚

æŸ¥çœ‹ [Next.js éƒ¨ç½²æ–‡æ¡£](https://nextjs.org/docs/app/building-your-application/deploying)äº†è§£æ›´å¤šè¯¦æƒ…ã€‚

æˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨æ­¤æŒ‰é’®è¿›è¡Œéƒ¨ç½²ã€‚
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fshenpeiheng%2Fai-smart-draw)

## ğŸ“ é¡¹ç›®ç»“æ„

```
app/                  # Next.js åº”ç”¨è·¯ç”±å’Œé¡µé¢
  api/                # ä¸åŒå›¾è¡¨ç±»å‹çš„ API è·¯ç”±
  [diagram-type]/     # æ¯ç§å›¾è¡¨ç±»å‹çš„ç‹¬ç«‹é¡µé¢
components/           # React ç»„ä»¶
  ui/                 # å¯é‡ç”¨çš„ UI ç»„ä»¶
  [feature]/          # ç‰¹å®šåŠŸèƒ½çš„ç»„ä»¶
contexts/             # React ä¸Šä¸‹æ–‡æä¾›è€…
lib/                  # å®ç”¨å‡½æ•°å’ŒåŠ©æ‰‹
public/               # é™æ€èµ„æºï¼ŒåŒ…æ‹¬ç¤ºä¾‹å›¾ç‰‡
```

## âœ… å¾…åŠäº‹é¡¹

- [x] å…è®¸ LLM ä¿®æ”¹ XML è€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»å¤´ç”Ÿæˆ
- [x] æé«˜å½¢çŠ¶æµå¼æ›´æ–°çš„æµç•…æ€§
- [x] æ·»åŠ å¯æŠ˜å èŠå¤©é¢æ¿ä»¥æ›´å¥½åœ°åˆ©ç”¨å·¥ä½œåŒº

## ğŸ“„ è®¸å¯è¯

è¯¥é¡¹ç›®åŸºäº MIT è®¸å¯è¯ã€‚

## â­ æ˜Ÿæ ‡å†å²

[![Star History Chart](https://api.star-history.com/svg?repos=shenpeiheng/ai-smart-draw&type=date&legend=top-left)](https://www.star-history.com/#shenpeiheng/ai-smart-draw&type=date&legend=top-left)